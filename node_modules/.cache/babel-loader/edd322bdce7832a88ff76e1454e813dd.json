{"ast":null,"code":"import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_DETAIL_MOVIE, CLEAR_MOVIE_LIST } from \"../actions\"; // Actions imported from ../actions folder, those are const declarations with the string \n\nconst initialState = {\n  movies: [],\n  movieDetail: [],\n  favoriteMovies: []\n};\n\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_MOVIES:\n      return { ...state,\n        movies: payload.Search // payload will be the JSON from the api, this json have the movie details in the .Search property\n\n      };\n    // here we just bring those movies to our movie state to have it updated in our home component\n\n    case GET_MOVIE_DETAIL:\n      return { ...state,\n        movieDetail: payload // Payload is our JSON from the API with detailed information about the specific movie looked.\n\n      };\n\n    case ADD_MOVIE_FAVORITE:\n      const movies = state.favoriteMovies.filter(movie => movie[0].imdbID === payload); // payload is an ID here, the ID is used to check any possible coincidence with the favoriteMovies(redux-state)\n\n      if (movies.length === 0) {\n        // if there is a coincidence this will be saved in movies variable to after check if there is no coincidence \n        alert('Movie added to favorites :))'); // is because the movie isn't in the state, if it's not the reducer will added and pop up succesfull message :)\n\n        return { ...state,\n          favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)] // here is adding the movie mark as favorite into the movieFavorite redux state\n\n        };\n      } else {\n        // If there is a coincidence in the state is because the movie is already in the state\n        alert('This movie was already added'); // message pop up notifying what i mentioned before\n\n        return { ...state // returning the state without modifications\n\n        };\n      }\n\n    case REMOVE_MOVIE_FAVORITE:\n      return { ...state,\n        favoriteMovies: state.favoriteMovies.filter(movie => movie[0].imdbID !== payload) // payload is an ID used to filter everything that does not have the ID, deleting the movie requested from the state :))\n\n      };\n\n    case CLEAR_DETAIL_MOVIE:\n      return { ...state,\n        movieDetail: []\n      };\n\n    case CLEAR_MOVIE_LIST:\n      return { ...state,\n        movies: []\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"names":["GET_MOVIES","GET_MOVIE_DETAIL","ADD_MOVIE_FAVORITE","REMOVE_MOVIE_FAVORITE","CLEAR_DETAIL_MOVIE","CLEAR_MOVIE_LIST","initialState","movies","movieDetail","favoriteMovies","rootReducer","state","type","payload","Search","filter","movie","imdbID","length","alert"],"sources":["C:/Users/Moiso/OneDrive/Desktop/Projects to Show/movie-app/src/reducers/index.js"],"sourcesContent":["import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_DETAIL_MOVIE, CLEAR_MOVIE_LIST} from \"../actions\";\r\n// Actions imported from ../actions folder, those are const declarations with the string \r\nconst initialState = {\r\n    movies: [],\r\n    movieDetail: [],\r\n    favoriteMovies: [],\r\n}\r\n\r\nconst rootReducer = (state = initialState, {type, payload}) => {\r\n    switch (type) {\r\n        case GET_MOVIES:\r\n            return{\r\n                ...state,\r\n                movies: payload.Search                                              // payload will be the JSON from the api, this json have the movie details in the .Search property\r\n            }                                                                       // here we just bring those movies to our movie state to have it updated in our home component\r\n        case GET_MOVIE_DETAIL:\r\n            return{\r\n                ...state,\r\n                movieDetail: payload                                                // Payload is our JSON from the API with detailed information about the specific movie looked.\r\n            }\r\n        case ADD_MOVIE_FAVORITE:\r\n            const movies = state.favoriteMovies.filter(movie => movie[0].imdbID === payload)        // payload is an ID here, the ID is used to check any possible coincidence with the favoriteMovies(redux-state)\r\n            if (movies.length === 0){                                                               // if there is a coincidence this will be saved in movies variable to after check if there is no coincidence \r\n                alert('Movie added to favorites :))')                                               // is because the movie isn't in the state, if it's not the reducer will added and pop up succesfull message :)\r\n                return{\r\n                    ...state,\r\n                    favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)] // here is adding the movie mark as favorite into the movieFavorite redux state\r\n                }\r\n            } else {                                                                                // If there is a coincidence in the state is because the movie is already in the state\r\n                alert('This movie was already added')                                               // message pop up notifying what i mentioned before\r\n                return{\r\n                    ...state                                                                        // returning the state without modifications\r\n                }\r\n            }\r\n             \r\n        case REMOVE_MOVIE_FAVORITE:\r\n            return{\r\n                ...state,\r\n                favoriteMovies: state.favoriteMovies.filter(movie => movie[0].imdbID !== payload) // payload is an ID used to filter everything that does not have the ID, deleting the movie requested from the state :))\r\n            }\r\n        case CLEAR_DETAIL_MOVIE: \r\n            return{\r\n                ...state,\r\n                movieDetail: []\r\n            }\r\n        case CLEAR_MOVIE_LIST:                                     \r\n            return{\r\n                ...state,\r\n                movies: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,gBAArB,EAAuCC,kBAAvC,EAA2DC,qBAA3D,EAAkFC,kBAAlF,EAAsGC,gBAAtG,QAA6H,YAA7H,C,CACA;;AACA,MAAMC,YAAY,GAAG;EACjBC,MAAM,EAAE,EADS;EAEjBC,WAAW,EAAE,EAFI;EAGjBC,cAAc,EAAE;AAHC,CAArB;;AAMA,MAAMC,WAAW,GAAG,YAA2C;EAAA,IAA1CC,KAA0C,uEAAlCL,YAAkC;EAAA,IAApB;IAACM,IAAD;IAAOC;EAAP,CAAoB;;EAC3D,QAAQD,IAAR;IACI,KAAKZ,UAAL;MACI,OAAM,EACF,GAAGW,KADD;QAEFJ,MAAM,EAAEM,OAAO,CAACC,MAFd,CAEkE;;MAFlE,CAAN;IAGwE;;IAC5E,KAAKb,gBAAL;MACI,OAAM,EACF,GAAGU,KADD;QAEFH,WAAW,EAAEK,OAFX,CAEkE;;MAFlE,CAAN;;IAIJ,KAAKX,kBAAL;MACI,MAAMK,MAAM,GAAGI,KAAK,CAACF,cAAN,CAAqBM,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAL,CAASC,MAAT,KAAoBJ,OAAzD,CAAf,CADJ,CAC4F;;MACxF,IAAIN,MAAM,CAACW,MAAP,KAAkB,CAAtB,EAAwB;QAAgE;QACpFC,KAAK,CAAC,8BAAD,CAAL,CADoB,CACgE;;QACpF,OAAM,EACF,GAAGR,KADD;UAEFF,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BE,KAAK,CAACJ,MAAN,CAAaQ,MAAb,CAAoBC,KAAK,IAAIA,KAAK,CAACC,MAAN,KAAiBJ,OAA9C,CAA1B,CAFd,CAEgG;;QAFhG,CAAN;MAIH,CAND,MAMO;QAAiF;QACpFM,KAAK,CAAC,8BAAD,CAAL,CADG,CACiF;;QACpF,OAAM,EACF,GAAGR,KADD,CAC8E;;QAD9E,CAAN;MAGH;;IAEL,KAAKR,qBAAL;MACI,OAAM,EACF,GAAGQ,KADD;QAEFF,cAAc,EAAEE,KAAK,CAACF,cAAN,CAAqBM,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAL,CAASC,MAAT,KAAoBJ,OAAzD,CAFd,CAEgF;;MAFhF,CAAN;;IAIJ,KAAKT,kBAAL;MACI,OAAM,EACF,GAAGO,KADD;QAEFH,WAAW,EAAE;MAFX,CAAN;;IAIJ,KAAKH,gBAAL;MACI,OAAM,EACF,GAAGM,KADD;QAEFJ,MAAM,EAAE;MAFN,CAAN;;IAIJ;MACI,OAAOI,KAAP;EA1CR;AA4CH,CA7CD;;AA+CA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}