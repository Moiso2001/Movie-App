{"ast":null,"code":"import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_DETAIL_MOVIE } from \"../actions\";\nconst initialState = {\n  movies: [],\n  movieDetail: [],\n  favoriteMovies: []\n};\n\nfunction validate() {\n  if (state.favoriteMovies.filter(movie => movie.imdbID === payload).length === 0) {\n    return { ...state,\n      favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)]\n    };\n  } else {\n    alert('The Movie is in fav page');\n  }\n}\n\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_MOVIES:\n      return { ...state,\n        movies: payload.Search\n      };\n\n    case GET_MOVIE_DETAIL:\n      return { ...state,\n        movieDetail: payload\n      };\n\n    case ADD_MOVIE_FAVORITE:\n      return { ...state,\n        favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)]\n      };\n\n    case REMOVE_MOVIE_FAVORITE:\n      return { ...state,\n        favoriteMovies: state.favoriteMovies.filter(movie => movie[0].imdbID !== payload)\n      };\n\n    case CLEAR_DETAIL_MOVIE:\n      return { ...state,\n        movieDetail: []\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"names":["GET_MOVIES","GET_MOVIE_DETAIL","ADD_MOVIE_FAVORITE","REMOVE_MOVIE_FAVORITE","CLEAR_DETAIL_MOVIE","initialState","movies","movieDetail","favoriteMovies","validate","state","filter","movie","imdbID","payload","length","alert","rootReducer","type","Search"],"sources":["C:/Users/Moiso/OneDrive/Desktop/FT-M2-master 2nd try/12-React-Redux/homework/src/reducers/index.js"],"sourcesContent":["import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_DETAIL_MOVIE } from \"../actions\";\r\n\r\nconst initialState = {\r\n    movies: [],\r\n    movieDetail: [],\r\n    favoriteMovies: [],\r\n}\r\n\r\nfunction validate (){\r\n    if(state.favoriteMovies.filter(movie => movie.imdbID === payload).length === 0){\r\n        return{\r\n            ...state,\r\n            favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)]\r\n        }\r\n    } else {\r\n        alert('The Movie is in fav page')\r\n    }\r\n}\r\n\r\nconst rootReducer = (state = initialState, {type, payload}) => {\r\n    switch (type) {\r\n        case GET_MOVIES:\r\n            return{\r\n                ...state,\r\n                movies: payload.Search\r\n            }\r\n        case GET_MOVIE_DETAIL:\r\n            return{\r\n                ...state,\r\n                movieDetail: payload\r\n            }\r\n        case ADD_MOVIE_FAVORITE:\r\n\r\n\r\n            return{\r\n                ...state,\r\n                favoriteMovies: [...state.favoriteMovies, state.movies.filter(movie => movie.imdbID === payload)]\r\n            }\r\n        case REMOVE_MOVIE_FAVORITE:\r\n            return{\r\n                ...state,\r\n                favoriteMovies: state.favoriteMovies.filter(movie => movie[0].imdbID !== payload)\r\n            }\r\n        case CLEAR_DETAIL_MOVIE: \r\n            return{\r\n                ...state,\r\n                movieDetail: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,gBAArB,EAAuCC,kBAAvC,EAA2DC,qBAA3D,EAAkFC,kBAAlF,QAA4G,YAA5G;AAEA,MAAMC,YAAY,GAAG;EACjBC,MAAM,EAAE,EADS;EAEjBC,WAAW,EAAE,EAFI;EAGjBC,cAAc,EAAE;AAHC,CAArB;;AAMA,SAASC,QAAT,GAAoB;EAChB,IAAGC,KAAK,CAACF,cAAN,CAAqBG,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAACC,MAAN,KAAiBC,OAAtD,EAA+DC,MAA/D,KAA0E,CAA7E,EAA+E;IAC3E,OAAM,EACF,GAAGL,KADD;MAEFF,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BE,KAAK,CAACJ,MAAN,CAAaK,MAAb,CAAoBC,KAAK,IAAIA,KAAK,CAACC,MAAN,KAAiBC,OAA9C,CAA1B;IAFd,CAAN;EAIH,CALD,MAKO;IACHE,KAAK,CAAC,0BAAD,CAAL;EACH;AACJ;;AAED,MAAMC,WAAW,GAAG,YAA2C;EAAA,IAA1CP,KAA0C,uEAAlCL,YAAkC;EAAA,IAApB;IAACa,IAAD;IAAOJ;EAAP,CAAoB;;EAC3D,QAAQI,IAAR;IACI,KAAKlB,UAAL;MACI,OAAM,EACF,GAAGU,KADD;QAEFJ,MAAM,EAAEQ,OAAO,CAACK;MAFd,CAAN;;IAIJ,KAAKlB,gBAAL;MACI,OAAM,EACF,GAAGS,KADD;QAEFH,WAAW,EAAEO;MAFX,CAAN;;IAIJ,KAAKZ,kBAAL;MAGI,OAAM,EACF,GAAGQ,KADD;QAEFF,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BE,KAAK,CAACJ,MAAN,CAAaK,MAAb,CAAoBC,KAAK,IAAIA,KAAK,CAACC,MAAN,KAAiBC,OAA9C,CAA1B;MAFd,CAAN;;IAIJ,KAAKX,qBAAL;MACI,OAAM,EACF,GAAGO,KADD;QAEFF,cAAc,EAAEE,KAAK,CAACF,cAAN,CAAqBG,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAL,CAASC,MAAT,KAAoBC,OAAzD;MAFd,CAAN;;IAIJ,KAAKV,kBAAL;MACI,OAAM,EACF,GAAGM,KADD;QAEFH,WAAW,EAAE;MAFX,CAAN;;IAKJ;MACI,OAAOG,KAAP;EA9BR;AAgCH,CAjCD;;AAmCA,eAAeO,WAAf"},"metadata":{},"sourceType":"module"}